
@{
    ViewBag.Title = "AppointmentList";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario de Disponibilidad</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        #calendario {
            width: 100%;
            margin-top: 20px;
        }

        th, td {
            text-align: center;
            height: 80px;
        }

        th {
            background-color: #f8f9fa;
        }

        td {
            cursor: pointer;
        }

        .selected {
            background-color: #4CAF50;
            color: white;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2 class="mt-3">Calendario de Disponibilidad</h2>

        <table class="table table-bordered" id="calendario">
            <thead>
                <tr>
                    <th>Lunes</th>
                    <th>Martes</th>
                    <th>Miércoles</th>
                    <th>Jueves</th>
                    <th>Viernes</th>
                    <th>Sábado</th>
                    <th>Domingo</th>
                </tr>
            </thead>
            <tbody>
                <!-- Las celdas del calendario se generarán dinámicamente aquí -->
            </tbody>
        </table>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            // Obtén la referencia al cuerpo de la tabla
            var body = $("#calendario tbody");

            // Configura la fecha actual
            var today = new Date();

            // Configura la fecha del primer día del mes
            var firstDay = new Date(today.getFullYear(), today.getMonth(), 1);

            // Configura el día de la semana del primer día del mes (considerando lunes como el primer día)
            var firstDayOfWeek = (firstDay.getDay() + 6) % 7;

            // Calcula cuántos días tiene el mes
            var daysInMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();

            // Genera las celdas del calendario
            var dayCounter = 1;
            for (var i = 0; i < 6; i++) {
                var row = $("<tr></tr>");

                for (var j = 0; j < 7; j++) {
                    var cell = $("<td></td>");

                    if ((i === 0 && j < firstDayOfWeek) || dayCounter > daysInMonth) {
                        // Celda vacía antes del primer día o después del último día
                        cell.text("");
                    } else {
                        // Celda con número de día
                        cell.text(dayCounter);
                        dayCounter++;

                        // Agrega un evento clic a la celda para resaltarla
                        cell.click(function () {
                            $(this).toggleClass("selected");
                        });
                    }

                    row.append(cell);
                }

                body.append(row);
            }
        });
    </script>

</body>
</html>



